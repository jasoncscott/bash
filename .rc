# =============================================================================
# .bashrc
# =============================================================================

# =============================================================================
# VARIABLES
# =============================================================================

if [ -f ${HOME}/Documents/shell/inputrc ]; then
    export INPUTRC=${HOME}/Documents/shell/inputrc
fi

if [ -f ${HOME}/Documents/shell/vimrc ]; then
    export MYVIMRC=${HOME}/Documents/shell/vimrc
fi

if [ -f ${HOME}/Documents/shell/pythonstartup ]; then
    export PYTHONSTARTUP=${HOME}/Documents/shell/pythonstartup
fi


# =============================================================================
# ALIASES
# =============================================================================

# Source personal aliases
if [ -f ${HOME}/Documents/shell/aliases ]; then
    source ${HOME}/Documents/shell/aliases
fi


# =============================================================================
# INPUTRC
# =============================================================================

# Source only if interactive shell (test special parameter for "i" option)
if [[ $- == *i* ]]; then
    bind -f ${INPUTRC}
fi


# =============================================================================
# COLORS
# =============================================================================

if [ -f ${HOME}/Documents/shell/shell_colors ]; then
    source ${HOME}/Documents/shell/shell_colors
fi

if [ -f ${HOME}/Documents/shell/tput_colors ]; then
    source ${HOME}/Documents/shell/tput_colors
fi


# =============================================================================
# GIT
# =============================================================================

if [ -f /usr/share/git-core/contrib/completion/git-prompt.sh ]; then
    export GIT_PS1_DESCRIBE_STYLE='describe'
    export GIT_PS1_SHOWUPSTREAM='verbose'
    export GIT_PS1_SHOWDIRTYSTATE=true
    export GIT_PS1_SHOWSTASHSTATE=true
    export GIT_PS1_SHOWUNTRACKEDFILES=
    export GIT_PS1_SHOWCOLORHINTS=true
    source /usr/share/git-core/contrib/completion/git-prompt.sh
fi


# =============================================================================
# LESS
# =============================================================================

# Due to desire to use external commands in LESS environment variables (e.g.,
# `tput`), source own file
if [ -f ${HOME}/Documents/shell/lessrc ]; then
    source ${HOME}/Documents/shell/lessrc  # Custom name following 'rc' files
fi


# =============================================================================
# PROMPT
# =============================================================================

if [ -f ${HOME}/Documents/shell/prompt ]; then
    source ${HOME}/Documents/shell/prompt
fi


# =============================================================================
# STARTUP
# =============================================================================

# For Interactive Shells
if [[ $- == *i* ]]; then
    printf '\n'
    printf ${On_Red}'OS Information'${Color_Off}
    printf '\n'
    printf "/etc/redhat-release: $(< /etc/redhat-release)\n"
    printf '${METHOD_SYS}: '${METHOD_SYS}'\n'
    printf 'Method Systems Build:'
    m-systems-build() { printf '\n'; /etc/ansible/facts.d/method.fact | sed 's|[{}]||g' | sed 's|, |\n|g' | sed 's|^|    |'; }
    # Choose one of the next two lines
#    m-systems-build
    printf " (Run 'm-systems-build')\n"
    printf 'Method Systems Bootstrap:'
    m-systems-bootstrap() { printf '\n'; rpm -qa | grep method | sed 's|^|    |'; }
    # Choose one of the next two lines
#    m-systems-bootstrap
    printf " (Run 'm-systems-bootstrap')\n"
    printf '\n\n'
    printf ${On_Green}'Shell Information'${Color_Off}
    printf '\n'
    printf 'Current Shell Options (${SHELLOPTS}):'
    # Choose one of the next two lines
    printf ' '${SHELLOPTS}
    #printf '\n'${SHELLOPTS} | sed 's|:|\n|g' | sed 's|^|    |'
    printf '\n(Same as Special Variables ($-): '$-')'
    printf '\n\n\n'
    printf ${On_Blue}'Bash Information'${Color_Off}
    printf '\n'
    printf '${BASH_VERSION}: '${BASH_VERSION}'\n'
    printf 'Current Bash Options (${BASHOPTS}):'
    # Choose one of the next two lines
    printf ' '${BASHOPTS}
    #printf '\n'${BASHOPTS} | sed 's|:|\n|g' | sed 's|^|    |'
    printf '\n\n\n'
    printf ${On_IWhite}${BIBlack}'Method Pipeline Bootstrap'${Color_Off}
    printf '\n'
    view_bootstrap
    printf '\n'
    printf ${On_IWhite}${BIBlack}'Users:'${Color_Off}
    printf '\n'
    users | sed 's| |\n|g' | uniq | sed 's|^|   |'
fi
