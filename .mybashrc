# =============================================================================
# .bashrc
# =============================================================================

# =============================================================================
# VARIABLES
# =============================================================================

if [ -f ${HOME}/Documents/bash/inputrc ]; then
    export INPUTRC=${HOME}/Documents/bash/inputrc
fi

if [ -f ${HOME}/Documents/bash/vimrc ]; then
    export MYVIMRC=${HOME}/Documents/bash/vimrc
fi

if [ -f ${HOME}/Documents/bash/pythonstartup ]; then
    export PYTHONSTARTUP=${HOME}/Documents/bash/pythonstartup
fi


# =============================================================================
# ALIASES
# =============================================================================

# Source personal aliases
if [ -f  ${HOME}/Documents/bash/aliases ]; then
    source  ${HOME}/Documents/bash/aliases
fi

# Source Method aliases
if [ -f  ${HOME}/Documents/bash/aliases.method ]; then
    source  ${HOME}/Documents/bash/aliases.method
fi


# =============================================================================
# INPUTRC
# =============================================================================

# Source only if interactive shell (test special parameter for "i" option)
if [[ $- == *i* ]]; then
    bind -f ${INPUTRC}
fi


# =============================================================================
# COLORS
# =============================================================================

if [ -f  ${HOME}/Documents/bash/bash_colors ]; then
    source  ${HOME}/Documents/bash/bash_colors
fi

if [ -f  ${HOME}/Documents/bash/tput_colors ]; then
    source  ${HOME}/Documents/bash/tput_colors
fi


# =============================================================================
# GIT
# =============================================================================

if [ -f /usr/share/git-core/contrib/completion/git-prompt.sh ]; then
    export GIT_PS1_DESCRIBE_STYLE='describe'
    export GIT_PS1_SHOWUPSTREAM='verbose'
    export GIT_PS1_SHOWDIRTYSTATE=true
    export GIT_PS1_SHOWSTASHSTATE=true
    export GIT_PS1_SHOWUNTRACKEDFILES=true
    export GIT_PS1_SHOWCOLORHINTS=true
    source /usr/share/git-core/contrib/completion/git-prompt.sh
fi


# =============================================================================
# LESS
# =============================================================================

# Due to desire to use external commands in LESS environment variables (e.g.,
# `tput`), source own file
if [ -f  ${HOME}/Documents/bash/lessrc ]; then
    source  ${HOME}/Documents/bash/lessrc  # Custom name following 'rc' files
fi


# =============================================================================
# PROMPT
# =============================================================================

if [ -f  ${HOME}/Documents/bash/prompt ]; then
    source  ${HOME}/Documents/bash/prompt
fi


# =============================================================================
# METHOD STARTUP
# =============================================================================

# For Interactive Shells
if [[ $- == *i* ]]; then
    echo
    echo
    echo -e ${On_IWhite}${BIBlack}"Users:"${Color_Off}
    echo -e "$(users | sed 's| |\n|g' | uniq | sed 's|^|   |')"
    echo
    echo
    echo -e ${On_Red}"OS Information"${Color_Off}
    echo -e "/etc/redhat-release: $(< /etc/redhat-release)"
    echo -e "\${METHOD_SYS}: "${METHOD_SYS}
    echo -e "Method Systems Build: $(/etc/ansible/facts.d/method.fact)"
    echo -e "Method Systems Bootstrap:"
    echo -e "$(rpm -qa | grep method | sed 's|^|    |')"
    echo
    echo
    echo -e ${On_Green}"Shell Information"${Color_Off}
    echo -e "Current Shell Options (\${SHELLOPTS}): "${SHELLOPTS}
    echo -e "Special Variables (\$-): " $-
    echo
    echo
    echo -e ${On_Blue}"Bash Information"${Color_Off}
    echo -e "\${BASH_VERSION}: "${BASH_VERSION}
    echo -e "Current Bash Options (\${BASHOPTS}): "${BASHOPTS}
    echo
    echo
    echo -e ${On_IWhite}${BIBlack}"Method Pipeline Bootstrap"${Color_Off}
    view_bootstrap
fi
